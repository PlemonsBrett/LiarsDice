# Configuration for Doxygen for use with CMake
# Only options that deviate from the default are included
# To create a new Doxyfile containing all available options, call `doxygen -g`

# Get Project name and version from CMake
PROJECT_NAME = @DOXYGEN_PROJECT_NAME@
PROJECT_NUMBER = @DOXYGEN_PROJECT_VERSION@

# Add sources - prioritize documentation over code
INPUT = @DOXYGEN_PROJECT_ROOT@/documentation/main.md \
        @DOXYGEN_PROJECT_ROOT@/documentation/pages \
        @DOXYGEN_PROJECT_ROOT@/include \
        @DOXYGEN_PROJECT_ROOT@/source
EXTRACT_ALL = YES
RECURSIVE = YES
OUTPUT_DIRECTORY = @DOXYGEN_OUTPUT_DIRECTORY@

# Use documentation main.md as the main page
USE_MDFILE_AS_MAINPAGE = @DOXYGEN_PROJECT_ROOT@/documentation/main.md

# set relative include paths
FULL_PATH_NAMES = YES
STRIP_FROM_PATH = @DOXYGEN_PROJECT_ROOT@/include @DOXYGEN_PROJECT_ROOT@

# Generate HTML documentation with better navigation
GENERATE_XML = YES
GENERATE_HTML = YES
GENERATE_LATEX = NO
XML_PROGRAMLISTING = YES
CREATE_SUBDIRS = NO

# HTML output configuration
HTML_OUTPUT = html
HTML_FILE_EXTENSION = .html
HTML_HEADER = 
HTML_FOOTER = 
HTML_STYLESHEET = 
HTML_EXTRA_STYLESHEET = 
HTML_EXTRA_FILES = 
HTML_COLORSTYLE_HUE = 220
HTML_COLORSTYLE_SAT = 100
HTML_COLORSTYLE_GAMMA = 80
HTML_TIMESTAMP = YES
HTML_DYNAMIC_SECTIONS = YES
HTML_INDEX_NUM_ENTRIES = 100

# Enable navigation tree
GENERATE_TREEVIEW = YES
DISABLE_INDEX = NO
FULL_SIDEBAR = NO
TREEVIEW_WIDTH = 250

# Enable search
SEARCHENGINE = YES
SERVER_BASED_SEARCH = NO

# Main page configuration
USE_MDFILE_AS_MAINPAGE = @DOXYGEN_PROJECT_ROOT@/documentation/main.md

# Include all directories, files and namespaces in the documentation
# Disable to include only explicitly documented objects
M_SHOW_UNDOCUMENTED = YES

# Configure for C++20
CLANG_ASSISTED_PARSING = YES
CLANG_OPTIONS = -std=c++20

# Extract documentation from all sources
EXTRACT_PRIVATE = YES
EXTRACT_STATIC = YES
EXTRACT_LOCAL_CLASSES = YES

# Enable preprocessing
ENABLE_PREPROCESSING = YES
MACRO_EXPANSION = YES
EXPAND_ONLY_PREDEF = YES
PREDEFINED = "concept=class" \
             "requires="

# Configure warnings
WARN_IF_UNDOCUMENTED = NO
WARN_IF_DOC_ERROR = YES
WARN_NO_PARAMDOC = NO

# File patterns
FILE_PATTERNS = *.h *.hpp *.cpp *.cc *.cxx *.dox *.md

# Exclude patterns
EXCLUDE_PATTERNS = */test/* \
                   */build/* \
                   */cmake-build-*/* \
                   */.git/*